services:
  _defaults:
    autowire: true
  # Services that depend on the nextcloud connection will cause exception if
  # Nextcloud is not configured.
  Drupal\poc_nextcloud_group_folder\Service\GroupToGroupFolderMap: {}
  Drupal\poc_nextcloud_group_folder\Service\GroupRoleToGroupId: {}
  Drupal\poc_nextcloud_group_folder\Service\DrupalGroupLoader:
    arguments: ['@entity_type.manager']
  Drupal\poc_nextcloud_group_folder\Tracker\GroupAndRoleNcGroupTracker:
    tags:
      - { name: 'poc_nextcloud.sync_job' }
      - { name: 'poc_nextcloud.schema' }
      - { name: 'hooks' }
  Drupal\poc_nextcloud_group_folder\Tracker\GroupNcGroupFolderTracker:
    tags:
      # This depends on Nextcloud group folders.
      - { name: 'poc_nextcloud.sync_job', priority: 10 }
      - { name: 'poc_nextcloud.schema' }
      - { name: 'hooks' }
  Drupal\poc_nextcloud_group_folder\Tracker\GroupAndRoleNcGroupFolderGroupTracker:
    tags:
      # This depends on Nextcloud group folders and Nextcloud groups.
      - { name: 'poc_nextcloud.sync_job', priority: 20 }
      - { name: 'poc_nextcloud.schema' }
      - { name: 'hooks' }
  Drupal\poc_nextcloud_group_folder\Tracker\GroupMembershipRoleNcUserGroupTracker:
    tags:
      # This depends on Nextcloud users and Nextcloud groups.
      - { name: 'poc_nextcloud.sync_job', priority: 20 }
      - { name: 'poc_nextcloud.schema' }
      - { name: 'hooks' }
  Drupal\poc_nextcloud_group_folder\Tracker\GroupNcGroupFolderReadmeTracker:
    tags:
      # This depends on Nextcloud users and Nextcloud groups.
      - { name: 'poc_nextcloud.sync_job', priority: 20 }
      - { name: 'poc_nextcloud.schema' }
      - { name: 'hooks' }
